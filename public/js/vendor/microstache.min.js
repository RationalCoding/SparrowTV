Microstache=function(e){function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(e,t){var r,n=t.split("."),i=e;for(r=0;r<n.length;++r){if(void 0==i[n[r]])return void 0;i=i[n[r]]}return i}return e.template=function(e,i){function l(e,n){for(s in e)"object"==typeof e[s]&&l(e[s],n+s+"."),o.push("{{\\s*"+t((n+s).toString())+"\\s*}}")}var r,a,s,o=[];return l(i,""),o=o.join("|"),o?(r=new RegExp(o,"gi"),a=e.replace(r,function(e){var t=/{{\s*([^\s]*)\s*}}/g;return n(i,t.exec(e.toString())[1])})):a=e,a.replace(/{{[^}}]*}}/gi,"")},e}({});